{"ast":null,"code":"import takeoff_marker from \"./img/takeoff_marker.png\";\nimport mapboxgl from 'mapbox-gl';\nexport class CommonManager {\n  constructor(map, manager3D, update_modal_message) {\n    this.map = map;\n    this.manager3D = manager3D;\n    this.translate_cursor = false;\n    this.start_marker = null;\n    this.update_modal_message = update_modal_message;\n    this.polygon = null;\n  }\n  toggleCursor() {\n    if (this.translate_cursor === true) {\n      this.translate_cursor = false;\n    } else {\n      this.translate_cursor = true;\n    }\n  }\n  setStartMarker(coords) {\n    if (this.start_marker === null) {\n      this.start_marker = new mapboxgl.Marker({\n        draggable: true\n      }).setLngLat(coords).addTo(this.map);\n      let icon = document.createElement('img');\n      icon.src = takeoff_marker;\n      icon.width = 35;\n      icon.height = 35;\n      this.start_marker.getElement().querySelector(\"svg\").remove();\n      this.start_marker.getElement().append(icon);\n      let indicator = document.createElement('span');\n      indicator.className = \"mapbox_gl_active_indicator\";\n      this.start_marker.getElement().append(indicator);\n      this.start_marker.getElement().classList.add(\"takeoff\");\n    } else {\n      this.start_marker.remove();\n      this.start_marker = null;\n      this.setStartMarker(coords);\n    }\n  }\n  setPolygon(coords) {\n    if (this.polygon === null) {\n      this.update_modal_message({\n        active: true,\n        heading: \"Ошибка\",\n        message: \"Сначала добавьте точку старта\"\n      });\n    } else {}\n  }\n}","map":{"version":3,"names":["takeoff_marker","mapboxgl","CommonManager","constructor","map","manager3D","update_modal_message","translate_cursor","start_marker","polygon","toggleCursor","setStartMarker","coords","Marker","draggable","setLngLat","addTo","icon","document","createElement","src","width","height","getElement","querySelector","remove","append","indicator","className","classList","add","setPolygon","active","heading","message"],"sources":["/Users/mihailbaleev/Documents/GitHub/lastochka_spraying/src/Spraying/CommonManager.js"],"sourcesContent":["import takeoff_marker from \"./img/takeoff_marker.png\";\nimport mapboxgl from 'mapbox-gl';\n\nexport class CommonManager{\n    constructor(map, manager3D, update_modal_message){\n        this.map = map \n        this.manager3D = manager3D\n        this.translate_cursor = false \n        this.start_marker = null\n        this.update_modal_message = update_modal_message\n        this.polygon = null\n    }\n\n    toggleCursor(){\n        if (this.translate_cursor === true){\n            this.translate_cursor = false \n        }else{\n            this.translate_cursor = true\n        }\n    }\n\n    setStartMarker(coords){\n        if (this.start_marker === null){\n            this.start_marker = new mapboxgl.Marker(\n                {\n                    draggable: true\n                }\n            ).setLngLat(coords).addTo(this.map)\n            let icon = document.createElement('img');\n            icon.src = takeoff_marker;\n            icon.width = 35\n            icon.height = 35\n            this.start_marker.getElement().querySelector(\"svg\").remove()\n            this.start_marker.getElement().append(icon)\n            let indicator = document.createElement('span');\n            indicator.className = \"mapbox_gl_active_indicator\"\n            this.start_marker.getElement().append(indicator)\n            this.start_marker.getElement().classList.add(\"takeoff\")\n        }else{\n            this.start_marker.remove()\n            this.start_marker = null\n            this.setStartMarker(coords)\n        }\n    }\n\n    setPolygon(coords){\n        if (this.polygon === null){\n            this.update_modal_message({active: true, heading: \"Ошибка\", message: \"Сначала добавьте точку старта\"})\n        }else{\n\n        }\n    }\n}"],"mappings":"AAAA,OAAOA,cAAc,MAAM,0BAA0B;AACrD,OAAOC,QAAQ,MAAM,WAAW;AAEhC,OAAO,MAAMC,aAAa;EACtBC,WAAWA,CAACC,GAAG,EAAEC,SAAS,EAAEC,oBAAoB,EAAC;IAC7C,IAAI,CAACF,GAAG,GAAGA,GAAG;IACd,IAAI,CAACC,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAACE,gBAAgB,GAAG,KAAK;IAC7B,IAAI,CAACC,YAAY,GAAG,IAAI;IACxB,IAAI,CAACF,oBAAoB,GAAGA,oBAAoB;IAChD,IAAI,CAACG,OAAO,GAAG,IAAI;EACvB;EAEAC,YAAYA,CAAA,EAAE;IACV,IAAI,IAAI,CAACH,gBAAgB,KAAK,IAAI,EAAC;MAC/B,IAAI,CAACA,gBAAgB,GAAG,KAAK;IACjC,CAAC,MAAI;MACD,IAAI,CAACA,gBAAgB,GAAG,IAAI;IAChC;EACJ;EAEAI,cAAcA,CAACC,MAAM,EAAC;IAClB,IAAI,IAAI,CAACJ,YAAY,KAAK,IAAI,EAAC;MAC3B,IAAI,CAACA,YAAY,GAAG,IAAIP,QAAQ,CAACY,MAAM,CACnC;QACIC,SAAS,EAAE;MACf,CACJ,CAAC,CAACC,SAAS,CAACH,MAAM,CAAC,CAACI,KAAK,CAAC,IAAI,CAACZ,GAAG,CAAC;MACnC,IAAIa,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;MACxCF,IAAI,CAACG,GAAG,GAAGpB,cAAc;MACzBiB,IAAI,CAACI,KAAK,GAAG,EAAE;MACfJ,IAAI,CAACK,MAAM,GAAG,EAAE;MAChB,IAAI,CAACd,YAAY,CAACe,UAAU,CAAC,CAAC,CAACC,aAAa,CAAC,KAAK,CAAC,CAACC,MAAM,CAAC,CAAC;MAC5D,IAAI,CAACjB,YAAY,CAACe,UAAU,CAAC,CAAC,CAACG,MAAM,CAACT,IAAI,CAAC;MAC3C,IAAIU,SAAS,GAAGT,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;MAC9CQ,SAAS,CAACC,SAAS,GAAG,4BAA4B;MAClD,IAAI,CAACpB,YAAY,CAACe,UAAU,CAAC,CAAC,CAACG,MAAM,CAACC,SAAS,CAAC;MAChD,IAAI,CAACnB,YAAY,CAACe,UAAU,CAAC,CAAC,CAACM,SAAS,CAACC,GAAG,CAAC,SAAS,CAAC;IAC3D,CAAC,MAAI;MACD,IAAI,CAACtB,YAAY,CAACiB,MAAM,CAAC,CAAC;MAC1B,IAAI,CAACjB,YAAY,GAAG,IAAI;MACxB,IAAI,CAACG,cAAc,CAACC,MAAM,CAAC;IAC/B;EACJ;EAEAmB,UAAUA,CAACnB,MAAM,EAAC;IACd,IAAI,IAAI,CAACH,OAAO,KAAK,IAAI,EAAC;MACtB,IAAI,CAACH,oBAAoB,CAAC;QAAC0B,MAAM,EAAE,IAAI;QAAEC,OAAO,EAAE,QAAQ;QAAEC,OAAO,EAAE;MAA+B,CAAC,CAAC;IAC1G,CAAC,MAAI,CAEL;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}