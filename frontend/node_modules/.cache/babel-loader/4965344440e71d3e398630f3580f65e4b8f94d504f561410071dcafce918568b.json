{"ast":null,"code":"const SunCalc = require('../../utils/suncalc.js');\nclass BuildingShadows {\n  constructor(options, threebox) {\n    this.id = options.layerId;\n    this.type = 'custom';\n    this.renderingMode = '3d';\n    this.opacity = 0.5;\n    this.buildingsLayerId = options.buildingsLayerId;\n    this.minAltitude = options.minAltitude || 0.10;\n    this.tb = threebox;\n  }\n  onAdd(map, gl) {\n    this.map = map;\n    const vertexSource = `\n\t\t\tuniform mat4 u_matrix;\n\t\t\tuniform float u_height_factor;\n\t\t\tuniform float u_altitude;\n\t\t\tuniform float u_azimuth;\n\t\t\tattribute vec2 a_pos;\n\t\t\tattribute vec4 a_normal_ed;\n\t\t\tattribute lowp vec2 a_base;\n\t\t\tattribute lowp vec2 a_height;\n\t\t\tvoid main() {\n\t\t\t\tfloat base = max(0.0, a_base.x);\n\t\t\t\tfloat height = max(0.0, a_height.x);\n\t\t\t\tfloat t = mod(a_normal_ed.x, 2.0);\n\t\t\t\tvec4 pos = vec4(a_pos, t > 0.0 ? height : base, 1);\n\t\t\t\tfloat len = pos.z * u_height_factor / tan(u_altitude);\n\t\t\t\tpos.x += cos(u_azimuth) * len;\n\t\t\t\tpos.y += sin(u_azimuth) * len;\n\t\t\t\tpos.z = 0.0;\n\t\t\t\tgl_Position = u_matrix * pos;\n\t\t\t}\n\t\t\t`;\n    const fragmentSource = `\n\t\t\tvoid main() {\n\t\t\t\tgl_FragColor = vec4(0.0, 0.0, 0.0, 0.7);\n\t\t\t}\n\t\t\t`;\n    const vertexShader = gl.createShader(gl.VERTEX_SHADER);\n    gl.shaderSource(vertexShader, vertexSource);\n    gl.compileShader(vertexShader);\n    const fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n    gl.shaderSource(fragmentShader, fragmentSource);\n    gl.compileShader(fragmentShader);\n    this.program = gl.createProgram();\n    gl.attachShader(this.program, vertexShader);\n    gl.attachShader(this.program, fragmentShader);\n    gl.linkProgram(this.program);\n    gl.validateProgram(this.program);\n    this.uMatrix = gl.getUniformLocation(this.program, \"u_matrix\");\n    this.uHeightFactor = gl.getUniformLocation(this.program, \"u_height_factor\");\n    this.uAltitude = gl.getUniformLocation(this.program, \"u_altitude\");\n    this.uAzimuth = gl.getUniformLocation(this.program, \"u_azimuth\");\n    this.aPos = gl.getAttribLocation(this.program, \"a_pos\");\n    this.aNormal = gl.getAttribLocation(this.program, \"a_normal_ed\");\n    this.aBase = gl.getAttribLocation(this.program, \"a_base\");\n    this.aHeight = gl.getAttribLocation(this.program, \"a_height\");\n  }\n  render(gl, matrix) {\n    gl.useProgram(this.program);\n    const source = this.map.style.sourceCaches['composite'];\n    const coords = source.getVisibleCoordinates().reverse();\n    const buildingsLayer = this.map.getLayer(this.buildingsLayerId);\n    const context = this.map.painter.context;\n    const {\n      lng,\n      lat\n    } = this.map.getCenter();\n    const pos = this.tb.getSunPosition(this.tb.lightDateTime, [lng, lat]);\n    gl.uniform1f(this.uAltitude, pos.altitude > this.minAltitude ? pos.altitude : 0);\n    gl.uniform1f(this.uAzimuth, pos.azimuth + 3 * Math.PI / 2);\n    //this.opacity = Math.sin(Math.max(pos.altitude, 0)) * 0.6;\n    gl.enable(gl.BLEND);\n    //gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.DST_ALPHA, gl.SRC_ALPHA);\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n    var ext = gl.getExtension('EXT_blend_minmax');\n    //gl.blendEquationSeparate(gl.FUNC_SUBTRACT, ext.MIN_EXT);\n    //gl.blendEquation(gl.FUNC_ADD);\n    gl.disable(gl.DEPTH_TEST);\n    for (const coord of coords) {\n      const tile = source.getTile(coord);\n      const bucket = tile.getBucket(buildingsLayer);\n      if (!bucket) continue;\n      const [heightBuffer, baseBuffer] = bucket.programConfigurations.programConfigurations[this.buildingsLayerId]._buffers;\n      gl.uniformMatrix4fv(this.uMatrix, false, coord.posMatrix);\n      gl.uniform1f(this.uHeightFactor, Math.pow(2, coord.overscaledZ) / tile.tileSize / 8);\n      for (const segment of bucket.segments.get()) {\n        const numPrevAttrib = context.currentNumAttributes || 0;\n        const numNextAttrib = 2;\n        for (let i = numNextAttrib; i < numPrevAttrib; i++) gl.disableVertexAttribArray(i);\n        const vertexOffset = segment.vertexOffset || 0;\n        gl.enableVertexAttribArray(this.aPos);\n        gl.enableVertexAttribArray(this.aNormal);\n        gl.enableVertexAttribArray(this.aHeight);\n        gl.enableVertexAttribArray(this.aBase);\n        bucket.layoutVertexBuffer.bind();\n        gl.vertexAttribPointer(this.aPos, 2, gl.SHORT, false, 12, 12 * vertexOffset);\n        gl.vertexAttribPointer(this.aNormal, 4, gl.SHORT, false, 12, 4 + 12 * vertexOffset);\n        heightBuffer.bind();\n        gl.vertexAttribPointer(this.aHeight, 1, gl.FLOAT, false, 4, 4 * vertexOffset);\n        baseBuffer.bind();\n        gl.vertexAttribPointer(this.aBase, 1, gl.FLOAT, false, 4, 4 * vertexOffset);\n        bucket.indexBuffer.bind();\n        context.currentNumAttributes = numNextAttrib;\n        gl.drawElements(gl.TRIANGLES, segment.primitiveLength * 3, gl.UNSIGNED_SHORT, segment.primitiveOffset * 3 * 2);\n      }\n    }\n  }\n}\nmodule.exports = exports = BuildingShadows;","map":{"version":3,"names":["SunCalc","require","BuildingShadows","constructor","options","threebox","id","layerId","type","renderingMode","opacity","buildingsLayerId","minAltitude","tb","onAdd","map","gl","vertexSource","fragmentSource","vertexShader","createShader","VERTEX_SHADER","shaderSource","compileShader","fragmentShader","FRAGMENT_SHADER","program","createProgram","attachShader","linkProgram","validateProgram","uMatrix","getUniformLocation","uHeightFactor","uAltitude","uAzimuth","aPos","getAttribLocation","aNormal","aBase","aHeight","render","matrix","useProgram","source","style","sourceCaches","coords","getVisibleCoordinates","reverse","buildingsLayer","getLayer","context","painter","lng","lat","getCenter","pos","getSunPosition","lightDateTime","uniform1f","altitude","azimuth","Math","PI","enable","BLEND","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","ext","getExtension","disable","DEPTH_TEST","coord","tile","getTile","bucket","getBucket","heightBuffer","baseBuffer","programConfigurations","_buffers","uniformMatrix4fv","posMatrix","pow","overscaledZ","tileSize","segment","segments","get","numPrevAttrib","currentNumAttributes","numNextAttrib","i","disableVertexAttribArray","vertexOffset","enableVertexAttribArray","layoutVertexBuffer","bind","vertexAttribPointer","SHORT","FLOAT","indexBuffer","drawElements","TRIANGLES","primitiveLength","UNSIGNED_SHORT","primitiveOffset","module","exports"],"sources":["/Users/mihailbaleev/Documents/GitHub/lastochka_spraying/node_modules/threebox-plugin/src/objects/effects/BuildingShadows.js"],"sourcesContent":["const SunCalc = require('../../utils/suncalc.js');\r\n\r\nclass BuildingShadows {\r\n\tconstructor(options, threebox) {\r\n\t\tthis.id = options.layerId;\r\n\t\tthis.type = 'custom';\r\n\t\tthis.renderingMode = '3d';\r\n\t\tthis.opacity = 0.5;\r\n\t\tthis.buildingsLayerId = options.buildingsLayerId;\r\n\t\tthis.minAltitude = options.minAltitude || 0.10;\r\n\t\tthis.tb = threebox;\r\n\t}\r\n\tonAdd(map, gl) {\r\n\t\tthis.map = map;\r\n\t\tconst vertexSource = `\r\n\t\t\tuniform mat4 u_matrix;\r\n\t\t\tuniform float u_height_factor;\r\n\t\t\tuniform float u_altitude;\r\n\t\t\tuniform float u_azimuth;\r\n\t\t\tattribute vec2 a_pos;\r\n\t\t\tattribute vec4 a_normal_ed;\r\n\t\t\tattribute lowp vec2 a_base;\r\n\t\t\tattribute lowp vec2 a_height;\r\n\t\t\tvoid main() {\r\n\t\t\t\tfloat base = max(0.0, a_base.x);\r\n\t\t\t\tfloat height = max(0.0, a_height.x);\r\n\t\t\t\tfloat t = mod(a_normal_ed.x, 2.0);\r\n\t\t\t\tvec4 pos = vec4(a_pos, t > 0.0 ? height : base, 1);\r\n\t\t\t\tfloat len = pos.z * u_height_factor / tan(u_altitude);\r\n\t\t\t\tpos.x += cos(u_azimuth) * len;\r\n\t\t\t\tpos.y += sin(u_azimuth) * len;\r\n\t\t\t\tpos.z = 0.0;\r\n\t\t\t\tgl_Position = u_matrix * pos;\r\n\t\t\t}\r\n\t\t\t`;\r\n\t\tconst fragmentSource = `\r\n\t\t\tvoid main() {\r\n\t\t\t\tgl_FragColor = vec4(0.0, 0.0, 0.0, 0.7);\r\n\t\t\t}\r\n\t\t\t`;\r\n\t\tconst vertexShader = gl.createShader(gl.VERTEX_SHADER);\r\n\t\tgl.shaderSource(vertexShader, vertexSource);\r\n\t\tgl.compileShader(vertexShader);\r\n\t\tconst fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\r\n\t\tgl.shaderSource(fragmentShader, fragmentSource);\r\n\t\tgl.compileShader(fragmentShader);\r\n\t\tthis.program = gl.createProgram();\r\n\t\tgl.attachShader(this.program, vertexShader);\r\n\t\tgl.attachShader(this.program, fragmentShader);\r\n\t\tgl.linkProgram(this.program);\r\n\t\tgl.validateProgram(this.program);\r\n\t\tthis.uMatrix = gl.getUniformLocation(this.program, \"u_matrix\");\r\n\t\tthis.uHeightFactor = gl.getUniformLocation(this.program, \"u_height_factor\");\r\n\t\tthis.uAltitude = gl.getUniformLocation(this.program, \"u_altitude\");\r\n\t\tthis.uAzimuth = gl.getUniformLocation(this.program, \"u_azimuth\");\r\n\t\tthis.aPos = gl.getAttribLocation(this.program, \"a_pos\");\r\n\t\tthis.aNormal = gl.getAttribLocation(this.program, \"a_normal_ed\");\r\n\t\tthis.aBase = gl.getAttribLocation(this.program, \"a_base\");\r\n\t\tthis.aHeight = gl.getAttribLocation(this.program, \"a_height\");\r\n\t}\r\n\trender(gl, matrix) {\r\n\t\tgl.useProgram(this.program);\r\n\t\tconst source = this.map.style.sourceCaches['composite'];\r\n\t\tconst coords = source.getVisibleCoordinates().reverse();\r\n\t\tconst buildingsLayer = this.map.getLayer(this.buildingsLayerId);\r\n\t\tconst context = this.map.painter.context;\r\n\t\tconst { lng, lat } = this.map.getCenter();\r\n\t\tconst pos = this.tb.getSunPosition(this.tb.lightDateTime, [lng, lat]);\r\n\t\tgl.uniform1f(this.uAltitude, (pos.altitude > this.minAltitude ? pos.altitude : 0));\r\n\t\tgl.uniform1f(this.uAzimuth, pos.azimuth + 3 * Math.PI / 2);\r\n\t\t//this.opacity = Math.sin(Math.max(pos.altitude, 0)) * 0.6;\r\n\t\tgl.enable(gl.BLEND);\r\n\t\t//gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.DST_ALPHA, gl.SRC_ALPHA);\r\n\t\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA)\r\n\t\tvar ext = gl.getExtension('EXT_blend_minmax');\r\n\t\t//gl.blendEquationSeparate(gl.FUNC_SUBTRACT, ext.MIN_EXT);\r\n\t\t//gl.blendEquation(gl.FUNC_ADD);\r\n\t\tgl.disable(gl.DEPTH_TEST);\r\n\t\tfor (const coord of coords) {\r\n\t\t\tconst tile = source.getTile(coord);\r\n\t\t\tconst bucket = tile.getBucket(buildingsLayer);\r\n\t\t\tif (!bucket) continue;\r\n\t\t\tconst [heightBuffer, baseBuffer] = bucket.programConfigurations.programConfigurations[this.buildingsLayerId]._buffers;\r\n\t\t\tgl.uniformMatrix4fv(this.uMatrix, false, coord.posMatrix);\r\n\t\t\tgl.uniform1f(this.uHeightFactor, Math.pow(2, coord.overscaledZ) / tile.tileSize / 8);\r\n\t\t\tfor (const segment of bucket.segments.get()) {\r\n\t\t\t\tconst numPrevAttrib = context.currentNumAttributes || 0;\r\n\t\t\t\tconst numNextAttrib = 2;\r\n\t\t\t\tfor (let i = numNextAttrib; i < numPrevAttrib; i++) gl.disableVertexAttribArray(i);\r\n\t\t\t\tconst vertexOffset = segment.vertexOffset || 0;\r\n\t\t\t\tgl.enableVertexAttribArray(this.aPos);\r\n\t\t\t\tgl.enableVertexAttribArray(this.aNormal);\r\n\t\t\t\tgl.enableVertexAttribArray(this.aHeight);\r\n\t\t\t\tgl.enableVertexAttribArray(this.aBase);\r\n\t\t\t\tbucket.layoutVertexBuffer.bind();\r\n\t\t\t\tgl.vertexAttribPointer(this.aPos, 2, gl.SHORT, false, 12, 12 * vertexOffset);\r\n\t\t\t\tgl.vertexAttribPointer(this.aNormal, 4, gl.SHORT, false, 12, 4 + 12 * vertexOffset);\r\n\t\t\t\theightBuffer.bind();\r\n\t\t\t\tgl.vertexAttribPointer(this.aHeight, 1, gl.FLOAT, false, 4, 4 * vertexOffset);\r\n\t\t\t\tbaseBuffer.bind();\r\n\t\t\t\tgl.vertexAttribPointer(this.aBase, 1, gl.FLOAT, false, 4, 4 * vertexOffset);\r\n\t\t\t\tbucket.indexBuffer.bind();\r\n\t\t\t\tcontext.currentNumAttributes = numNextAttrib;\r\n\t\t\t\tgl.drawElements(gl.TRIANGLES, segment.primitiveLength * 3, gl.UNSIGNED_SHORT, segment.primitiveOffset * 3 * 2);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nmodule.exports = exports = BuildingShadows;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}