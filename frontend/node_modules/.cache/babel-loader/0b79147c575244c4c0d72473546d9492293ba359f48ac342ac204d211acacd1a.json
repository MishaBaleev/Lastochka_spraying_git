{"ast":null,"code":"// import waypointIcon from '../RouteConstructor/BRM/Waypoint/icon_map_waypoint.png';\n\nimport { lineChunk, lineString, lineIntersect, lineSlice, length, point, polygon } from '@turf/turf';\nfunction getIntersectAlt(l1, l2, l3) {\n  if (l1[0] != l2[0]) {\n    let line1 = lineString([[l1[0], l1[2]], [l2[0], l2[2]]]);\n    let line2 = lineString([[l3[0], 0], [l3[0], Math.max(l1[2], l2[2])]]);\n    let intersects = lineIntersect(line1, line2);\n    return intersects.features[0].geometry.coordinates[1];\n  } else if (l1[1] != l2[1]) {\n    let line1 = lineString([[l1[1], l1[2]], [l2[1], l2[2]]]);\n    let line2 = lineString([[l3[1], 0], [l3[1], Math.max(l1[2], l2[2])]]);\n    let intersects = lineIntersect(line1, line2);\n    return intersects.features[0].geometry.coordinates[1];\n  }\n}\nfunction calcDistance(point1, point2) {\n  var line = {\n    \"type\": \"FeatureCollection\",\n    \"features\": [{\n      \"type\": \"Feature\",\n      \"properties\": {},\n      \"geometry\": {\n        \"type\": \"LineString\",\n        \"coordinates\": [point1, point2]\n      }\n    }]\n  };\n  var start = {\n    \"type\": \"Feature\",\n    \"properties\": {},\n    \"geometry\": {\n      \"type\": \"Point\",\n      \"coordinates\": point1\n    }\n  };\n  var stop = {\n    \"type\": \"Feature\",\n    \"properties\": {},\n    \"geometry\": {\n      \"type\": \"Point\",\n      \"coordinates\": point2\n    }\n  };\n  return length(lineSlice(start, stop, line.features[0]), {\n    units: 'meters'\n  });\n}\nfunction segmentateLine(point1, point2, segmentProcent, manager3D, flag = false) {\n  let pwa1 = [point1[0], point1[1]];\n  let pwa2 = [point2[0], point2[1]];\n  let distance = calcDistance(pwa1, pwa2);\n  let interval = 0;\n  if (flag) {\n    interval = 1 / 1000;\n  } else {\n    interval = distance / 1000 * (segmentProcent / 100);\n  }\n  let cords = [];\n  let cords_AMS = [];\n  cords.push(point2);\n  cords_AMS.push([point2[0], point2[1], point2[2] + manager3D.getAMS({\n    lng: point2[0],\n    lat: point2[1]\n  })]);\n  return {\n    cords: cords,\n    cords_AMS: cords_AMS\n  };\n}\nexport class SprayManager3d {\n  constructor(manager3d) {\n    this.manager3d = manager3d;\n    this.objects = [];\n    this.sphereArr = [];\n    this.routeLine = null;\n    this.changeMode = this.changeMode.bind(this);\n    this.last_id = 0;\n    this.shift = null;\n  }\n  addSphere(coords, id) {\n    let sphereOptions = this.manager3d.getMeshOptions(\"sphere_1\");\n    let pointSphere = window.tb.sphere(sphereOptions);\n    let alt_ams = this.manager3d.getAMS({\n      lng: coords[0],\n      lat: coords[1]\n    });\n    if (alt_ams === null) {\n      alt_ams = 0;\n    }\n    pointSphere.setCoords([coords[0], coords[1], coords[2] + alt_ams]);\n    let sphereObject = {\n      object: pointSphere,\n      id: id,\n      baseCoords: coords\n    };\n    window.tb.add(pointSphere);\n    this.objects.push(pointSphere);\n    this.sphereArr.push(sphereObject);\n    this.manager3d.map.setZoom(this.manager3d.map.getZoom());\n  }\n  getCoordArr(route) {\n    let currentNode = route.head;\n    let coordArr = [];\n    while (currentNode != route.tail) {\n      currentNode = currentNode.next;\n      if (currentNode == route.head.next) {\n        coordArr.push([currentNode.params.lng.value, currentNode.params.lat.value, 0]);\n      }\n      if (currentNode.params.module.name == \"Polygon\") {\n        for (let coord of currentNode.params.markup.value) {\n          coordArr.push([coord[0], coord[1], Number(currentNode.params.alt.value)]);\n        }\n      } else if (currentNode.params.module.name == \"RTL\") {\n        coordArr.push(coordArr[1]);\n        coordArr.push(coordArr[0]);\n      } else {\n        coordArr.push([currentNode.params.lng.value, currentNode.params.lat.value, Number(currentNode.params.alt.value)]);\n      }\n      if (currentNode.params.module.name == \"Land\") {\n        coordArr.push([currentNode.params.lng.value, currentNode.params.lat.value, 0]);\n      }\n    }\n    this.route = route;\n    return coordArr;\n  }\n  updateLineGeometry(coord_arr) {\n    if (this.routeLine) {\n      let cords_AMS = [];\n      for (let item in coord_arr) {\n        if (item < coord_arr.length - 1) {\n          if (coord_arr[item][2] == 0) {\n            cords_AMS.push([coord_arr[item][0], coord_arr[item][1], this.manager3d.getAMS({\n              lng: coord_arr[item][0],\n              lat: coord_arr[item][1]\n            })]);\n          } else if (coord_arr[Number(item) + 1][2] == 0) {\n            cords_AMS.push([coord_arr[Number(item) + 1][0], coord_arr[Number(item) + 1][1], this.manager3d.getAMS({\n              lng: coord_arr[Number(item) + 1][0],\n              lat: coord_arr[Number(item) + 1][1]\n            })]);\n          } else if (coord_arr[item][2] != 0 && coord_arr[Number(item) + 1][2] != 0) {\n            let segmCoords = segmentateLine(coord_arr[item], coord_arr[Number(item) + 1], 10, this.manager3d);\n            cords_AMS = cords_AMS.concat(segmCoords.cords_AMS);\n          }\n        }\n      }\n      this.routeLine.setGeometry_(cords_AMS, this.routeLine);\n    }\n  }\n  unitSpheres(coord_arr) {\n    if (this.routeLine) {\n      window.tb.remove(this.routeLine);\n      for (let i in this.objects) {\n        if (this.objects[i] == this.routeLine) {\n          this.objects.splice(i, 1);\n        }\n      }\n    }\n    if (coord_arr.length > 1) {\n      let cords_AMS = [];\n      coord_arr = coord_arr.map(coord => {\n        let alt = this.manager3d.getAMS({\n          lng: coord[0],\n          lat: coord[1]\n        });\n        if (alt === null) {\n          alt = 0;\n        }\n        return [coord[0], coord[1], coord[2] + alt];\n      });\n      for (let index = 0; index <= coord_arr.length - 2; index++) {\n        let segmCoords = segmentateLine(coord_arr[index], coord_arr[index + 1], 10, this.manager3d);\n        cords_AMS = cords_AMS.concat(segmCoords.cords_AMS);\n      }\n      cords_AMS.unshift(coord_arr[0]);\n      let routeLineOptions = this.manager3d.getMeshOptions(\"line_1\");\n      routeLineOptions.geometry = cords_AMS;\n      this.routeLine = window.tb.line(routeLineOptions);\n      window.tb.add(this.routeLine, \"custom-layer\");\n      this.objects.push(this.routeLine);\n    }\n  }\n  changeAlt(value, id, route) {\n    let sphereCoords = [];\n    for (let sphere of this.sphereArr) {\n      if (sphere.id == id) {\n        sphere.object.setCoords([sphere.object.coordinates[0], sphere.object.coordinates[1], Number(value) + this.manager3d.getAMS({\n          lng: sphere.object.coordinates[0],\n          lat: sphere.object.coordinates[1]\n        })]);\n        sphereCoords.push([sphere.object.coordinates[0], sphere.object.coordinates[1]]);\n        sphere.baseCoords[2] = Number(value);\n      }\n    }\n    this.updateLineGeometry(route);\n  }\n  changeCoords(id, coords) {\n    this.sphereArr.forEach(sphere => {\n      if (sphere.id === id) {\n        let alt = this.manager3d.getAMS({\n          lng: coords[0],\n          lat: coords[1]\n        });\n        sphere.object.setCoords([coords[0], coords[1], coords[2] + alt]);\n      }\n    });\n  }\n  clearTb(deleteAll = false) {\n    for (let object of this.objects) {\n      window.tb.remove(object);\n    }\n    ;\n    this.idSphereArr = [];\n    this.routeLine = null;\n    this.sphereArr = [];\n    this.objects = [];\n    if (deleteAll) {\n      this.map.removeLayer('custom_layer');\n    }\n  }\n  deleteObject(id) {\n    for (let element of this.sphereArr) {\n      if (element.id == id) {\n        window.tb.remove(element.object);\n      }\n    }\n  }\n  deletePolygon() {\n    this.sphereArr.forEach(item => {\n      if (item.id !== 0) {\n        window.tb.remove(item.object);\n      }\n    });\n    window.tb.remove(this.routeLine);\n  }\n  drawShiftPolygon(coord_arr) {\n    if (this.shift) {\n      window.tb.remove(this.shift);\n      for (let i in this.objects) {\n        if (this.objects[i] == this.routeLine) {\n          this.objects.splice(i, 1);\n        }\n      }\n    }\n    if (coord_arr.length > 1) {\n      let cords_AMS = [];\n      coord_arr = coord_arr.map(coord => {\n        let alt = this.manager3d.getAMS({\n          lng: coord[0],\n          lat: coord[1]\n        });\n        if (alt === null) {\n          alt = 0;\n        }\n        return [coord[0], coord[1], 0 + alt];\n      });\n      for (let index = 0; index <= coord_arr.length - 2; index++) {\n        let segmCoords = segmentateLine(coord_arr[index], coord_arr[index + 1], 10, this.manager3d);\n        cords_AMS = cords_AMS.concat(segmCoords.cords_AMS);\n      }\n      cords_AMS.unshift(coord_arr[0]);\n      cords_AMS.push(coord_arr[0]);\n      let line_options = this.manager3d.getMeshOptions(\"line_2\");\n      line_options.geometry = cords_AMS;\n      this.shift = window.tb.line(line_options);\n      window.tb.add(this.shift, \"custom-layer\");\n      this.objects.push(this.shift);\n      this.objects[0].set({});\n    }\n  }\n  changeMode() {\n    for (let id in this.sphereArr) {\n      let z = [this.sphereArr[id].baseCoords[0], this.sphereArr[id].baseCoords[1], this.sphereArr[id].baseCoords[2] + this.manager3d.getAMS({\n        lng: this.sphereArr[id].baseCoords[0],\n        lat: this.sphereArr[id].baseCoords[1]\n      })];\n      this.sphereArr[id].object.setCoords(z);\n    }\n    if (this.route) {\n      this.unitSpheres(this.route);\n    }\n  }\n  changeScale() {}\n}","map":{"version":3,"names":["lineChunk","lineString","lineIntersect","lineSlice","length","point","polygon","getIntersectAlt","l1","l2","l3","line1","line2","Math","max","intersects","features","geometry","coordinates","calcDistance","point1","point2","line","start","stop","units","segmentateLine","segmentProcent","manager3D","flag","pwa1","pwa2","distance","interval","cords","cords_AMS","push","getAMS","lng","lat","SprayManager3d","constructor","manager3d","objects","sphereArr","routeLine","changeMode","bind","last_id","shift","addSphere","coords","id","sphereOptions","getMeshOptions","pointSphere","window","tb","sphere","alt_ams","setCoords","sphereObject","object","baseCoords","add","map","setZoom","getZoom","getCoordArr","route","currentNode","head","coordArr","tail","next","params","value","module","name","coord","markup","Number","alt","updateLineGeometry","coord_arr","item","segmCoords","concat","setGeometry_","unitSpheres","remove","i","splice","index","unshift","routeLineOptions","changeAlt","sphereCoords","changeCoords","forEach","clearTb","deleteAll","idSphereArr","removeLayer","deleteObject","element","deletePolygon","drawShiftPolygon","line_options","set","z","changeScale"],"sources":["/Users/mihailbaleev/Documents/GitHub/lastochka_spraying/src/Spraying/manager3D.js"],"sourcesContent":["// import waypointIcon from '../RouteConstructor/BRM/Waypoint/icon_map_waypoint.png';\n\nimport { lineChunk, lineString, lineIntersect, lineSlice, length, point, polygon } from '@turf/turf'\nfunction getIntersectAlt(l1, l2, l3) {\n    if(l1[0] != l2[0]){\n        let line1 = lineString([\n            [l1[0], l1[2]],\n            [l2[0], l2[2]]\n        ])\n        let line2 = lineString([\n            [l3[0], 0],\n            [l3[0], Math.max(l1[2], l2[2])]\n        ])\n        let intersects = lineIntersect(line1, line2)\n        return intersects.features[0].geometry.coordinates[1]\n    }\n    else if(l1[1] != l2[1]){\n        let line1 = lineString([\n            [l1[1], l1[2]],\n            [l2[1], l2[2]]\n        ])\n        let line2 = lineString([\n            [l3[1], 0],\n            [l3[1], Math.max(l1[2], l2[2])]\n        ])\n        let intersects = lineIntersect(line1, line2)\n        return intersects.features[0].geometry.coordinates[1]\n    }\n}\n\nfunction calcDistance(point1, point2) {\n    var line = {\n        \"type\": \"FeatureCollection\",\n        \"features\": [\n          {\n            \"type\": \"Feature\",\n            \"properties\": {},\n            \"geometry\": {\n              \"type\": \"LineString\",\n              \"coordinates\": [\n                point1, \n                point2\n              ]\n            }\n          }\n        ]\n      };\n      \n      var start = {\n        \"type\": \"Feature\",\n        \"properties\": {},\n        \"geometry\": {\n          \"type\": \"Point\",\n          \"coordinates\": point1\n        }\n      };\n      var stop = {\n        \"type\": \"Feature\",\n        \"properties\": {},\n        \"geometry\": {\n          \"type\": \"Point\",\n          \"coordinates\": point2\n        }\n      };\n      return length(lineSlice(start, stop, line.features[0]), {units: 'meters'})\n}\nfunction segmentateLine(point1, point2, segmentProcent, manager3D, flag=false) {\n    let pwa1 = [\n        point1[0],\n        point1[1]\n    ]\n    let pwa2 = [\n        point2[0],\n        point2[1]\n    ]\n\n    let distance = calcDistance(\n        pwa1, \n        pwa2\n        )\n    let interval = 0;\n    if(flag){\n        interval = 1/1000\n    }\n    else{\n        interval = distance/1000*(segmentProcent/100)\n    }\n    let cords = []\n    let cords_AMS = []\n\n    cords.push(point2)\n    cords_AMS.push([\n        point2[0],\n        point2[1],\n        point2[2]+manager3D.getAMS({\n            lng:point2[0],\n            lat:point2[1]\n        })\n    ])\n\n    return {\n        cords:cords,\n        cords_AMS:cords_AMS\n    }\n}\n\nexport class SprayManager3d{\n    constructor(manager3d){\n        this.manager3d = manager3d;\n        this.objects = [];\n        this.sphereArr = [];\n        this.routeLine = null;\n        this.changeMode = this.changeMode.bind(this);\n        this.last_id = 0\n        this.shift = null\n    }\n\n    addSphere(coords, id){\n        let sphereOptions = this.manager3d.getMeshOptions(\"sphere_1\")\n        let pointSphere = window.tb.sphere(sphereOptions)\n        let alt_ams = this.manager3d.getAMS({\n            lng:coords[0],\n            lat:coords[1]\n        })\n        if (alt_ams===null){alt_ams=0}\n        pointSphere.setCoords([\n            coords[0],\n            coords[1], \n            coords[2]+alt_ams\n        ])\n\n        let sphereObject = {\n            object: pointSphere,\n            id: id,\n            baseCoords: coords\n        }\n        \n        window.tb.add(pointSphere)\n        this.objects.push(pointSphere)\n        this.sphereArr.push(sphereObject)\n\n        this.manager3d.map.setZoom(this.manager3d.map.getZoom())\n    }\n\n    getCoordArr(route){\n        let currentNode = route.head\n        let coordArr = [] \n        while (currentNode != route.tail){\n            currentNode = currentNode.next \n            if(currentNode == route.head.next){\n                coordArr.push([\n                    currentNode.params.lng.value,\n                    currentNode.params.lat.value,\n                    0\n                ])\n            }\n\n            if (currentNode.params.module.name == \"Polygon\"){\n                for (let coord of currentNode.params.markup.value){\n                    coordArr.push([\n                        coord[0], \n                        coord[1], \n                        Number(currentNode.params.alt.value)\n                    ])\n                }\n            }else if (currentNode.params.module.name == \"RTL\"){\n             coordArr.push(coordArr[1])\n             coordArr.push(coordArr[0])\n            }else{\n                coordArr.push([\n                    currentNode.params.lng.value,\n                    currentNode.params.lat.value,\n                    Number(currentNode.params.alt.value)\n                ])\n            }\n            if(currentNode.params.module.name == \"Land\"){\n                coordArr.push([\n                    currentNode.params.lng.value,\n                    currentNode.params.lat.value,\n                    0\n                ])\n            }\n        }\n        this.route = route\n        return coordArr\n    }\n\n    updateLineGeometry(coord_arr){\n        if (this.routeLine){\n            let cords_AMS = []\n            for (let item in coord_arr){\n                if (item < coord_arr.length-1){\n                    if(coord_arr[item][2] == 0){\n                        cords_AMS.push([\n                            coord_arr[item][0],\n                            coord_arr[item][1],\n                            this.manager3d.getAMS({\n                                lng:coord_arr[item][0],\n                                lat:coord_arr[item][1]\n                            })\n                        ])\n                    }\n                    else if(coord_arr[Number(item)+1][2] == 0){\n                        cords_AMS.push([\n                            coord_arr[Number(item)+1][0],\n                            coord_arr[Number(item)+1][1],\n                            this.manager3d.getAMS({\n                                lng:coord_arr[Number(item)+1][0],\n                                lat:coord_arr[Number(item)+1][1]\n                            })\n                        ])\n                    }\n                    else if(coord_arr[item][2] != 0 && coord_arr[Number(item)+1][2] != 0){\n                        let segmCoords = segmentateLine(coord_arr[item], coord_arr[Number(item)+1], 10, this.manager3d)\n                        cords_AMS = cords_AMS.concat(segmCoords.cords_AMS)\n                    }\n                }\n            }\n            this.routeLine.setGeometry_(cords_AMS, this.routeLine)\n        }\n    }\n\n    unitSpheres(coord_arr){\n        if (this.routeLine){\n            window.tb.remove(this.routeLine)\n            for (let i in this.objects){\n                if (this.objects[i] == this.routeLine){\n                    this.objects.splice(i, 1)\n                }\n            }\n        }\n        if (coord_arr.length > 1){\n            let cords_AMS = []\n            coord_arr = coord_arr.map(coord => {\n                let alt = this.manager3d.getAMS({lng:coord[0], lat:coord[1]})\n                if (alt===null){alt=0}\n                return [coord[0], coord[1], coord[2]+alt]\n            })\n            for (let index=0; index<=coord_arr.length-2; index++){\n                let segmCoords = segmentateLine(coord_arr[index], coord_arr[index+1], 10, this.manager3d)\n                cords_AMS = cords_AMS.concat(segmCoords.cords_AMS)\n            }\n            cords_AMS.unshift(coord_arr[0])\n            let routeLineOptions = this.manager3d.getMeshOptions(\"line_1\")\n            routeLineOptions.geometry = cords_AMS\n            this.routeLine = window.tb.line(routeLineOptions)\n            window.tb.add(this.routeLine, \"custom-layer\")\n            this.objects.push(this.routeLine)\n        }\n    }\n\n    changeAlt(value, id, route){\n        let sphereCoords = []\n        for (let sphere of this.sphereArr){\n            if (sphere.id == id){\n                sphere.object.setCoords([\n                    sphere.object.coordinates[0], \n                    sphere.object.coordinates[1], \n                    Number(value)+this.manager3d.getAMS({\n                        lng: sphere.object.coordinates[0],\n                        lat: sphere.object.coordinates[1]\n                    })])\n                sphereCoords.push([sphere.object.coordinates[0], sphere.object.coordinates[1]])\n                sphere.baseCoords[2] = Number(value)\n            }\n        }\n        this.updateLineGeometry(route)\n    }\n    changeCoords(id, coords){\n        this.sphereArr.forEach(sphere => {\n            if (sphere.id === id){\n                let alt = this.manager3d.getAMS({lng:coords[0], lat:coords[1]})\n                sphere.object.setCoords([coords[0], coords[1], coords[2]+alt])\n            }\n        })\n    }\n    clearTb(deleteAll = false){\n        for (let object of this.objects){\n            window.tb.remove(object)\n        };\n        this.idSphereArr = []\n        this.routeLine = null;\n        this.sphereArr = []\n        this.objects = []\n        if (deleteAll){\n            this.map.removeLayer('custom_layer')\n        }\n    }\n    deleteObject(id){\n        for (let element of this.sphereArr){\n            if (element.id == id){\n                window.tb.remove(element.object)\n            }\n        }\n    }\n    deletePolygon(){\n        this.sphereArr.forEach(item => {\n            if (item.id !== 0){window.tb.remove(item.object)}\n        })\n        window.tb.remove(this.routeLine)\n    }\n    drawShiftPolygon(coord_arr){\n        if (this.shift){\n            window.tb.remove(this.shift)\n            for (let i in this.objects){\n                if (this.objects[i] == this.routeLine){\n                    this.objects.splice(i, 1)\n                }\n            }\n        }\n        if (coord_arr.length > 1){\n            let cords_AMS = []\n            coord_arr = coord_arr.map(coord => {\n                let alt = this.manager3d.getAMS({lng:coord[0], lat:coord[1]})\n                if (alt===null){alt=0}\n                return [coord[0], coord[1], 0+alt]\n            })\n            for (let index=0; index<=coord_arr.length-2; index++){\n                let segmCoords = segmentateLine(coord_arr[index], coord_arr[index+1], 10, this.manager3d)\n                cords_AMS = cords_AMS.concat(segmCoords.cords_AMS)\n            }\n            cords_AMS.unshift(coord_arr[0])\n            cords_AMS.push(coord_arr[0])\n            let line_options = this.manager3d.getMeshOptions(\"line_2\")\n            line_options.geometry = cords_AMS\n            this.shift = window.tb.line(line_options)\n            window.tb.add(this.shift, \"custom-layer\")\n            this.objects.push(this.shift)\n            this.objects[0].set({})\n        }\n    }\n    changeMode(){\n        for (let id in this.sphereArr){\n            let z = [\n                this.sphereArr[id].baseCoords[0],\n                this.sphereArr[id].baseCoords[1],\n                this.sphereArr[id].baseCoords[2]+this.manager3d.getAMS({\n                    lng:this.sphereArr[id].baseCoords[0],\n                    lat:this.sphereArr[id].baseCoords[1]\n                })\n            ]\n            this.sphereArr[id].object.setCoords(z)\n        }\n        if (this.route){\n            this.unitSpheres(this.route)\n        }\n    }\n    changeScale(){\n        \n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}